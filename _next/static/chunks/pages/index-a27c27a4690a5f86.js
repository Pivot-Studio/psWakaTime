(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{97850:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(36778)}])},36778:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return v}});var t=a(11527),i=a(55049),r=a.n(i),l=a(76792),s=a.n(l),c=a(98269),u=a.n(c),o=a(50955),d=a.n(o),m=a(73669);let g=m.Z.create({baseURL:"http://43.154.191.136:81/api",timeout:3e3});async function h(e){return e?await g.get("leaders?country_code=SG&language=".concat(e)):await g.get("leaders?country_code=SG")}var _=a(40894),x=a(48715),f=a(50959);let p=["matto","@NolanHo","smith","MoonOldh","Griffinx","Diagonal","CjiW","A1eX","@7erry","mama"];var w=a(39191),y=a.n(w),j=a(23516);function v(){var e;let[n,a]=(0,f.useState)([]),[i,l]=(0,f.useState)(!1),c=function(){let[e,n]=(0,f.useState)(!1);return(0,f.useEffect)(()=>{function e(){window.innerWidth<=600?n(!0):n(!1)}return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),e}(),o=(0,j.useRouter)();async function m(){l(!0);try{let{data:e}=await h(o.query.language),n=e.data,t=n.filter(e=>{let n=e.user.display_name;if(p.includes(n))return!0});l(!1),a(t)}catch(e){l(!1)}}(0,f.useEffect)(()=>{m()},[o.query.language]);let g=[{title:"排名",key:"index",dataIndex:"index",align:"center",render:(e,n,a)=>(0,t.jsx)("span",{children:Number(a)+1})},{title:"用户",key:"userName",dataIndex:"user",align:"center",render:e=>(0,t.jsxs)("div",{className:d().user,children:[(0,t.jsx)(u(),{width:16,height:16,src:e.photo,alt:"avatar"}),(0,t.jsx)(y(),{href:"https://wakatime.com/".concat(e.id),children:e.display_name})]})},{title:"最近一周".concat(c?"":"摸鱼时长"),key:"totalTime",dataIndex:["running_total","human_readable_total"],align:"center"},{title:"平均每日".concat(c?"":"摸鱼时长"),key:"averageTime",dataIndex:["running_total","human_readable_daily_average"],align:"center"},{title:"摸鱼工具",key:"tools",dataIndex:["running_total","languages"],align:"center",render:e=>(e.length>=9&&e.splice(9),e.map(e=>(0,t.jsx)(y(),{href:"./?language=".concat(e.name),children:(0,t.jsx)(x.Z,{color:"blue",children:e.name})},e.name)))}];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(s(),{children:[(0,t.jsx)("title",{children:"ps摸鱼社"}),(0,t.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,t.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,t.jsx)("link",{rel:"icon",href:"https://wakatime.com/static/img/wakatime.svg"})]}),(0,t.jsxs)("main",{className:"".concat(d().main," ").concat(r().className),children:[(0,t.jsxs)("h2",{className:d().title,children:[(0,t.jsx)(y(),{href:"/",legacyBehavior:!1,children:"ps摸鱼情况统计"}),(null===(e=o.query.language)||void 0===e?void 0:e.length)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{children:"\xb7"}),(0,t.jsx)(y(),{href:"./language=".concat(o.query.language),children:o.query.language})]})]}),(0,t.jsx)(_.Z,{className:d().table,columns:g,dataSource:n,pagination:!1,loading:i,size:c?"small":"large"})]})]})}},50955:function(e){e.exports={main:"Home_main__2uIek",title:"Home_title__YEn0u",table:"Home_table__ZxOl3",user:"Home_user__xvSZr"}}},function(e){e.O(0,[774,134,888,179],function(){return e(e.s=97850)}),_N_E=e.O()}]);