(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{97850:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(94290)}])},94290:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var n=t(11527),i=t(55049),r=t.n(i),l=t(76792),s=t.n(l),c=t(98269),u=t.n(c),d=t(50955),o=t.n(d),h=t(73669);let m=h.Z.create({baseURL:"http://43.154.191.136:81/api",timeout:3e3});async function g(e){return e?await m.get("leaders?country_code=SG&language=".concat(e)):await m.get("leaders?country_code=SG")}var _=t(40894),x=t(48715),p=t(50959);let f=["matto","@NolanHo","smith","@MoonOldH"];var w=t(39191),y=t.n(w),j=t(23516);function v(){var e;let[a,t]=(0,p.useState)([]),[i,l]=(0,p.useState)(!1),c=(0,j.useRouter)();async function d(){l(!0);try{let{data:e}=await g(c.query.language),a=e.data,n=a.filter(e=>{let a=e.user.display_name;if(f.includes(a))return!0});l(!1),t(n)}catch(e){l(!1)}}(0,p.useEffect)(()=>{d()},[c.query.language]);let h=[{title:"排名",key:"index",dataIndex:"index",align:"center",width:"80px",render:(e,a,t)=>(0,n.jsx)("span",{children:Number(t)+1})},{title:"用户",key:"userName",dataIndex:"user",align:"center",width:"120px",render:e=>(0,n.jsxs)("div",{className:o().user,children:[(0,n.jsx)(u(),{width:16,height:16,src:e.photo,alt:"avatar"}),(0,n.jsx)(y(),{href:"https://wakatime.com/".concat(e.id),children:e.display_name})]})},{title:"最近一周摸鱼时长",key:"totalTime",dataIndex:["running_total","human_readable_total"],align:"center",width:"200px"},{title:"平均每日摸鱼时间",key:"averageTime",dataIndex:["running_total","human_readable_daily_average"],align:"center",width:"200px"},{title:"摸鱼工具",key:"tools",dataIndex:["running_total","languages"],align:"center",render:e=>(e.length>=9&&e.splice(9),e.map(e=>(0,n.jsx)(y(),{href:"./?language=".concat(e.name),children:(0,n.jsx)(x.Z,{color:"blue",children:e.name})},e.name)))}];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s(),{children:[(0,n.jsx)("title",{children:"ps摸鱼社"}),(0,n.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,n.jsx)("link",{rel:"icon",href:"https://wakatime.com/static/img/wakatime.svg"})]}),(0,n.jsxs)("main",{className:"".concat(o().main," ").concat(r().className),children:[(0,n.jsxs)("h2",{className:o().title,children:[(0,n.jsx)(y(),{href:"/",legacyBehavior:!1,children:"ps摸鱼情况统计"}),(null===(e=c.query.language)||void 0===e?void 0:e.length)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:"\xb7"}),(0,n.jsx)(y(),{href:"./language=".concat(c.query.language),children:c.query.language})]})]}),(0,n.jsx)(_.Z,{className:o().table,columns:h,dataSource:a,pagination:!1,loading:i})]})]})}},50955:function(e){e.exports={main:"Home_main__2uIek",title:"Home_title__YEn0u",table:"Home_table__ZxOl3",user:"Home_user__xvSZr"}}},function(e){e.O(0,[774,134,888,179],function(){return e(e.s=97850)}),_N_E=e.O()}]);